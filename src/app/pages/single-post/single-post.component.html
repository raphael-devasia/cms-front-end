<div class="mb-7 pb-4">
    <app-header [categories]="categories"></app-header>
</div>
<section class="single-block-wrapper section-padding" *ngIf="posts">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10 col-md-12">
                <div class="single-post shadow p-4 rounded bg-white">
                    <!-- Post Image -->
                    <div class="post-image text-center mb-4">
                        <img [src]="posts.image" alt="{{ posts.title }}" class="img-fluid rounded"
                            style="max-height: 500px; object-fit: cover;" />
                    </div>

                    <!-- Post Header -->
                    <div class="post-header mb-5 text-center">
                        <h1 class="post-title text-dark font-weight-bold">{{ posts.title }}</h1>
                        <p class="text-muted">
                            <em>Category: {{ posts.category.category }}</em>
                        </p>
                        <p class="text-muted">
                            <em>Posted on: {{ posts.createdAt | date: 'longDate' }}</em>
                        </p>
                    </div>

                    <!-- Post Content -->
                    <div class="post-content mb-4" [innerHTML]="posts.content"
                        style="line-height: 1.8; font-size: 1.1rem; color: #333;"></div>

                    <!-- Excerpt -->
                    <div class="post-excerpt my-4 p-3 bg-light rounded">
                        <h4 class="font-weight-bold">Summary</h4>
                        <p>{{ posts.excerpt }}</p>
                    </div>

                    <!-- Views -->
                    <div class="post-footer mt-4 d-flex justify-content-between align-items-center">
                        <span class="text-muted">Views: <strong>{{ posts.views }}</strong></span>
                    </div>
                </div>

                <!-- Comments Section -->
                <div class="comments-section mt-5">
                    <h3 class="font-weight-bold mb-4">Comments</h3>
                    <app-comments-list></app-comments-list>
                    <app-comment-form></app-comment-form>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Loader or Message if No Post -->
<div *ngIf="!posts" class="text-center p-5">
    <p>Loading post details...</p>
</div>